INCLUDE(${BOARD_CMAKE_DIR}/toolchain.cmake)
INCLUDE(${BOARD_CMAKE_DIR}/kernel.cmake)
SET(CMAKE_C_FLAGS "${COMMON_C_FLAGS} ${BOARD_C_FLAGS}")
SET(CMAKE_CXX_FLAGS "${COMMON_CXX_FLAGS} ${BOARD_CXX_FLAGS}")

SET(CMAKE_EXE_LINKER_FLAGS "${LDFLAGS} ${BOARD_LDFLAGS}")

# - Add user project to CMake project
INCLUDE_DIRECTORIES(${GNU_EFI_INC} ${GNU_EFI_INC}/${ARCH} ${COMMON_INC})

FILE(GLOB_RECURSE KERNEL_SUB_SRC "*.c" "*.cpp")
LIST(APPEND KERNEL_SRC ${KERNEL_SUB_SRC})

ADD_EXECUTABLE(kernel ${KERNEL_SRC})

TARGET_LINK_LIBRARIES(kernel arch bsp lwipcore)
SET_TARGET_PROPERTIES(kernel PROPERTIES
							LINKER_LANGUAGE CXX)
